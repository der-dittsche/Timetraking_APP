import{u as x,r as L,a as S,o as d,c as p,b as t,w as _,v as m,n as g,d as h,p as E,e as U,f as V,g as C,h as $,i as B,t as y,j as v,k as z,l as M,m as O,q as T}from"./index-b798mi2M.js";const D=(a,i)=>{const s=a.__vccOpts||a;for(const[r,o]of i)s[r]=o;return s},l=a=>(E("data-v-4faba864"),a=a(),U(),a),A={class:"hero mt-6"},N={class:"field"},R=l(()=>t("label",{class:"label"},"Username",-1)),W={class:"control"},Z={class:"field"},H=l(()=>t("label",{class:"label"},"Password",-1)),P={class:"control"},j=l(()=>t("button",{class:"button is-primary",type:"submit"},"Login",-1)),q={class:"field"},F=l(()=>t("label",{class:"label"},"Email",-1)),G={class:"control"},J={class:"field"},K=l(()=>t("label",{class:"label"},"Email",-1)),Q={class:"control"},X={class:"field"},Y=l(()=>t("label",{class:"label"},"Email",-1)),tt={class:"control"},et={class:"field"},st=l(()=>t("label",{class:"label"},"Password",-1)),nt={class:"control"},ot=l(()=>t("button",{class:"button is-primary",type:"submit"},"Login",-1)),at=l(()=>t("button",{class:"button is-link"}," Zurück zum Login",-1)),it=[at],rt=l(()=>t("button",{class:"button is-link"}," Einen neuen User registrieren",-1)),lt=[rt],ct={__name:"LoginUser",setup(a){const i=x(),s=L(!1),r=S({username:"",password:""}),o=S({username:"",firstname:"",lastname:"",password:""}),f=()=>{i.loginUser(r.username,r.password)},k=()=>{i.registerUser(o.username,o.firstname,o.lastname,o.password)};return(c,e)=>(d(),p("div",A,[t("form",{class:g(["box mt-5",{is_active:s.value}]),onSubmit:h(f,["prevent"])},[t("div",N,[R,t("div",W,[_(t("input",{class:"input","onUpdate:modelValue":e[0]||(e[0]=n=>r.username=n),type:"text",name:"auth_username",id:"auth_username",autocomplete:"none",placeholder:"username"},null,512),[[m,r.username]])])]),t("div",Z,[H,t("div",P,[_(t("input",{class:"input","onUpdate:modelValue":e[1]||(e[1]=n=>r.password=n),type:"password",name:"auth_password",id:"auth_password",autocomplete:"none",placeholder:"********"},null,512),[[m,r.password]])])]),j],34),t("form",{class:g(["box mt-5",{is_active:!s.value}]),onSubmit:h(k,["prevent"])},[t("div",q,[F,t("div",G,[_(t("input",{class:"input","onUpdate:modelValue":e[2]||(e[2]=n=>o.username=n),type:"text",name:"reg_username",id:"reg_username",autocomplete:"none",placeholder:"username"},null,512),[[m,o.username]])])]),t("div",J,[K,t("div",Q,[_(t("input",{class:"input","onUpdate:modelValue":e[3]||(e[3]=n=>o.firstname=n),type:"text",name:"reg_firstname",id:"reg_firstname",autocomplete:"none",placeholder:"Max"},null,512),[[m,o.firstname]])])]),t("div",X,[Y,t("div",tt,[_(t("input",{class:"input","onUpdate:modelValue":e[4]||(e[4]=n=>o.lastname=n),type:"text",name:"reg_lastname",id:"reg_lastname",autocomplete:"none",placeholder:"Mustermann"},null,512),[[m,o.lastname]])])]),t("div",et,[st,t("div",nt,[_(t("input",{class:"input","onUpdate:modelValue":e[5]||(e[5]=n=>o.password=n),type:"password",name:"reg_password",id:"reg_password",autocomplete:"none",placeholder:"********"},null,512),[[m,o.password]])])]),ot],34),t("div",{class:g(["control",{is_active:!s.value}]),onClick:e[6]||(e[6]=h(n=>s.value=!1,["prevent"]))},it,2),t("div",{class:g(["control",{is_active:s.value}]),onClick:e[7]||(e[7]=h(n=>s.value=!0,["prevent"]))},lt,2)]))}},dt=D(ct,[["__scopeId","data-v-4faba864"]]),b=a=>(E("data-v-d6639f39"),a=a(),U(),a),ut={class:"hero"},_t={class:"block mt-6"},mt={class:"content is-large ml-3"},pt={class:"box"},gt={key:0},ht=b(()=>t("i",{class:"bx bx-play-circle green"},null,-1)),vt=b(()=>t("p",{class:"green content is-medium"},"Arbeitszeit starten",-1)),bt=[ht,vt],ft={key:1},kt=b(()=>t("i",{class:"bx bx-stop-circle red"},null,-1)),wt=b(()=>t("p",{class:"red content is-medium"},"Arbeitszeit beenden",-1)),yt=[kt,wt],xt={class:"content is-normal"},St={__name:"TimeTraking",setup(a){const i=x(),s=V();C(()=>{s.getTimeEntriesByUser(i.user.id)});const r=()=>{const c=new Date().toISOString(),e=i.user.id;s.setTimeEntry(e,c)},o=()=>{const c=new Date().toISOString(),e=i.user.id;if(s.times.length>0){const u=[...s.times].sort((w,I)=>new Date(I.tracking_start)-new Date(w.tracking_start))[0];if(u.tracking_stop===null){const w=u.id;s.updateTimeEntry(e,w,c)}}},f=$(()=>s.times.length>0?[...s.times].sort((n,u)=>new Date(u.tracking_start)-new Date(n.tracking_start))[0].tracking_stop!==null:!1),k=$(()=>{const c=s.times[s.times.length-1];if(c){const e=new Date(c.tracking_start),n=e.toLocaleTimeString("de-DE",{hour:"2-digit",minute:"2-digit"}),u=e.toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric"});return`${n} ${u}`}return null});return(c,e)=>{const n=B("RouterLink");return d(),p("section",ut,[t("div",_t,[t("h1",mt,"Hallo "+y(v(i).user.firstname)+" "+y(v(i).user.lastname),1),t("div",pt,[f.value||v(s).times.length===0?(d(),p("div",gt,[t("button",{onClick:r},bt)])):(d(),p("div",ft,[t("button",{onClick:o},yt),t("p",xt,"Beginn deiner Arbeitszeit: "+y(k.value),1)]))])]),z(n,{class:"button is-link",to:"/summary"},{default:M(()=>[O("Zur Zeitenübersicht")]),_:1})])}}},$t=D(St,[["__scopeId","data-v-d6639f39"]]),Et={__name:"HomeView",setup(a){const i=x();return(s,r)=>(d(),p("div",null,[v(i).userIsLoaded?(d(),T($t,{key:1})):(d(),T(dt,{key:0}))]))}};export{Et as default};
