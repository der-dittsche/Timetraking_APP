import{u as M,f as $,c as _,b as i,t as o,j as c,F as h,s as F,o as m,x as D}from"./index-b798mi2M.js";const v={class:"hero"},b={class:"block mt-6"},B={class:"content is-large ml-3"},H={class:"card-header-title"},L={class:"ml-4"},V=i("br",null,null,-1),N={class:"ml-5"},j={key:1},R={__name:"SummaryView",setup(C){const d=M().user,u=$(),p=e=>{const s={year:"numeric",month:"2-digit",day:"2-digit"};return new Date(e).toLocaleDateString(void 0,s)},k=e=>{const s={hour:"2-digit",minute:"2-digit"};return new Date(e).toLocaleTimeString(void 0,s)},g=(e,s)=>new Date(e).toDateString()===new Date(s).toDateString(),f=(e,s)=>{if(!s)return"noch aktiv";const t=new Date(e),a=new Date(s),l=Math.floor((a-t)/(1e3*60)),r=Math.floor(l/60),n=l%60;return`${r}:${n<10?"0":""}${n}`},S=e=>{const t=u.times.filter(r=>g(r.tracking_start,e)).reduce((r,n)=>{if(n.tracking_stop){const w=new Date(n.tracking_start),T=new Date(n.tracking_stop);r+=Math.floor((T-w)/(1e3*60))}return r},0),a=Math.floor(t/60),l=t%60;return`${a}:${l<10?"0":""}${l}`};return(e,s)=>(m(),_("section",v,[i("div",b,[i("h1",B,"Hallo "+o(c(d).firstname)+" "+o(c(d).lastname),1),(m(!0),_(h,null,F(c(u).times,(t,a)=>(m(),_("div",{class:"card",key:a},[a===0||!g(t.tracking_start,c(u).times[a-1].tracking_start)?(m(),_(h,{key:0},[i("p",H,"Datum: "+o(p(t.tracking_start)),1),i("p",L,"Gesamte Stunden an diesem Tag: "+o(S(t.tracking_start)),1),V],64)):D("",!0),i("p",N,o(k(t.tracking_start))+" - "+o(t.tracking_stop?k(t.tracking_stop):"noch aktiv")+" ("+o(f(t.tracking_start,t.tracking_stop))+") ",1),a!==c(u).times.length-1&&!g(t.tracking_start,c(u).times[a+1].tracking_start)?(m(),_("hr",j)):D("",!0)]))),128))])]))}};export{R as default};
